<!DOCTYPE html>
<!-- CSP support mode (required for Windows Universal apps): https://docs.angularjs.org/api/ng/directive/ngCsp -->
<html lang="ja" ng-csp>
    <head>
        <meta charset="utf-8" />
        <meta name="format-detection" content="telephone=no" />
        <meta name="msapplication-tap-highlight" content="no" />
        <meta name="apple-mobile-web-app-capable" content="yes" />
        <meta name="mobile-web-app-capable" content="yes" />
        <!-- WARNING: for iOS 7, remove the width=device-width and height=device-height attributes. See https://issues.apache.org/jira/browse/CB-4323 -->
        <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height, target-densitydpi=device-dpi" />
        
        <link rel="stylesheet" href="lib/onsen/css/onsenui.css"/>
        <link rel="stylesheet" href="lib/onsen/css/onsen-css-components.css"/>
        <!-- CSP support mode (required for Windows Universal apps) -->
        <link rel="stylesheet" href="lib/angular/angular-csp.css" />
        
        <script src="lib/angular/angular.js"></script>
        <script src="lib/angular/angular-locale_ja-jp.js"></script>
        <script src="lib/onsen/js/onsenui.js"></script>
        <script src="lib/HolidayChk.js"></script>
        <script src="cordova.js"></script>
        
        <!-- このアプリ固有のファイル -->
        <link rel="stylesheet" href="css/index.css" />
        <script src="js/app.js"></script>
        <script src="js/listController.js"></script>
        <script src="js/inputController.js"></script>
        <script src="js/timeDialogController.js"></script>
        <script src="js/kinmuService.js"></script>
        <script src="js/timeDialogService.js"></script>
        
        <title>勤務パンサー</title>
    </head>
    <body>
        <ons-tabbar>
            <ons-tab page="input.html" active="true" icon="ion-ios-compose-outline" label="入力">
            </ons-tab>
            <ons-tab page="list.html" icon="ion-ios-list-outline" label="一覧">
            </ons-tab>
            <ons-tab page="common.html" icon="ion-ios-person" label="共通項目">
            </ons-tab>
            <ons-tab page="settings.html" icon="ion-ios-gear-outline" label="設定">
            </ons-tab>
        </ons-tabbar>

        <ons-template id="input.html">
            <ons-page ng-controller="InputController as input" class="input">
                <ons-toolbar fixed-style="true">
                    <div class="center">{{input.data.date | date: 'M月d日(EEE)'}}</div>
                </ons-toolbar>
                
                <ons-row>
                    <ons-col width="78px" align="bottom" class="label">
                        <ons-icon icon="ion-ios-timer-outline"></ons-icon> シフト
                    </ons-col>
                    <ons-col align="bottom">
                        <input type="text" class="text-input text-input--underbar" placeholder="" value="所定">
                    </ons-col>
                </ons-row>
                <ons-row>
                    <ons-col width="78px" align="bottom" class="label">
                        <ons-icon icon="ion-ios-clock-outline"></ons-icon> 出勤
                    </ons-col>
                    <ons-col align="bottom">
                        <input type="text" class="text-input text-input--underbar" placeholder="出勤時刻" value="09:00">
                    </ons-col>
                    <ons-col width="64px" align="bottom">
                        <button class="button">Now</button>
                    </ons-col>
                </ons-row>
                <ons-row>
                    <ons-col width="78px" align="bottom" class="label">
                        <ons-icon icon="ion-ios-clock"></ons-icon> 退勤
                    </ons-col>
                    <ons-col align="bottom">
                        <input type="text" class="text-input text-input--underbar" placeholder=退勤時刻" value="17:45">
                    </ons-col>
                    <ons-col width="64px" align="bottom">
                        <button class="button">Now</button>
                    </ons-col>
                </ons-row>
                <ons-row>
                    <ons-col width="78px" align="bottom" class="label">
                        <ons-icon icon="ion-ios-people"></ons-icon> PRJ
                    </ons-col>
                    <ons-col align="bottom">
                        <input type="text" class="text-input text-input--underbar" placeholder="" value="">
                    </ons-col>
                </ons-row>
                <ons-row>
                    <ons-col width="78px" align="bottom" class="label">
                        <ons-icon icon="ion-ios-flag-outline"></ons-icon> 作業
                    </ons-col>
                    <ons-col align="bottom">
                        <input type="text" class="text-input text-input--underbar" placeholder="" value="">
                    </ons-col>
                </ons-row>
                
            </ons-page>
        </ons-template>
        
        <ons-template id="list.html">
            <ons-page ng-controller="ListController as list">
                <ons-toolbar fixed-style="true">
                    <div class="center">{{list.data.year}}年{{list.data.month}}月</div>
                </ons-toolbar>
            
                <ons-list>
                    <ons-list-item ng-class="day.dayType" ng-repeat="day in list.data.days">
                        <span class="date">{{day.date | date: 'd'}}</span>
                        <span class="day">{{day.date | date: '(EEE)'}}</span>
                        <!-- 未入力時のレイアウト崩れを防ぐため&nbsp;を入れている -->
                        <span class="time" ng-click="list.inputTime('in', day)">&nbsp;{{day.inTime}}&nbsp;</span>
                        <span class="time" ng-click="list.inputTime('out', day)">&nbsp;{{day.outTime}}&nbsp;</span>
                    </ons-list-item>
                </ons-list>
            </ons-page>
        </ons-template>
        
        <ons-template id="common.html">
            <div>共通項目</div>
        </ons-template>
        
        <ons-template id="settings.html">
            <div>設定</div>
        </ons-template>
        
        <ons-template id="timeDialog.html">
            <ons-dialog cancelable ng-controller="TimeDialogController as dialog" class="timeDialog" ons-postshow="dialog.scrollToDefault()">
                <ons-page>
                    <ons-toolbar fixed-style="true">
                        <div class="center">
                            {{dialog.data.dayData.date | date: 'M/d(EEE)'}} {{dialog.typeString()}}
                        </div>
                    </ons-toolbar>
                    <ons-list>
                        <ons-list-item modifier="tappable" ng-repeat="time in dialog.createTimeSelectList()" class="item" id="time-{{time}}" ng-click="dialog.selectTime(time)">
                            {{time}}
                        </ons-list-item>
                    </ons-list>
                </ons-page>
            </ons-dialog>
        </ons-template>
        
    </body>
</html>
